{"remainingRequest":"D:\\vscode-work\\offline\\vue\\eyepetizer_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vscode-work\\offline\\vue\\eyepetizer_vue\\src\\components\\Moment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vscode-work\\offline\\vue\\eyepetizer_vue\\src\\components\\Moment.vue","mtime":1600950476585},{"path":"D:\\vscode-work\\offline\\vue\\eyepetizer_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode-work\\offline\\vue\\eyepetizer_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vscode-work\\offline\\vue\\eyepetizer_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode-work\\offline\\vue\\eyepetizer_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRVcmwgfSBmcm9tICcuLi91dGlscy9jb21tb24uanMnOw0KaW1wb3J0IHsgSW1hZ2VQcmV2aWV3IH0gZnJvbSAndmFudCc7DQppbXBvcnQgeyBEaWFsb2cgfSBmcm9tICd2YW50JzsNCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ21vbWVudCcsDQogIHByb3BzOiBbDQogICAgJ2xpc3QnDQogIF0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZpc2libGU6IGZhbHNlLA0KICAgICAgZGV0YWlsOiBudWxsLA0KICAgICAgcmVsYXRlZExpc3Q6IFtdLA0KICAgICAgcmVwbGllczogW10NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVEZXRhaWwoZGV0YWlsKSB7DQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGV0YWlsJywgSlNPTi5zdHJpbmdpZnkoZGV0YWlsKSk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3ZpZGVvLycgKyBkZXRhaWwuZGF0YS5pZCk7DQogICAgfSwNCiAgICBwcmV2aWV3KHVybHMpIHsNCiAgICAgIEltYWdlUHJldmlldyh7DQogICAgICAgIGltYWdlczogdXJscw0KICAgICAgfSk7DQogICAgfSwNCiAgICBtZXNzYWdlUHJldmlldyhkZXRhaWwpIHsNCiAgICAgIERpYWxvZy5hbGVydCh7DQogICAgICAgIG1lc3NhZ2VBbGlnbjogJ2xlZnQnLA0KICAgICAgICB0aXRsZTogZGV0YWlsLnJlcGx5LnZpZGVvVGl0bGUsDQogICAgICAgIG1lc3NhZ2U6IGRldGFpbC5yZXBseS5tZXNzYWdlDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgLy8gb24gY2xvc2UNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZm9ybWF0TGlzdChsaXN0KSB7DQogICAgICBjb25zdCBza2lwSW5kZXhzID0gW107DQogICAgICAvLyDmmoLml7bmnInpl67popgNCiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGlmIChza2lwSW5kZXhzLmluZGV4T2YoaSkgPj0gMCkgew0KICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IGl0ZW0gPSBsaXN0W2ldOw0KICAgICAgICByZXN1bHQucHVzaChpdGVtKTsNCg0KICAgICAgICBpZiAoaXRlbS5kYXRhLnRleHQgPT0gJ+S7iuaXpeekvuWMuueyvumAiScpIHsNCiAgICAgICAgICAvLyDlpoLmnpzmmK/npL7ljLrnsr7pgInvvIzliJnojrflj5bmjqXkuIvmnaXnmoQz5p2h5pWw5o2uDQogICAgICAgICAgY29uc3QgbmV4dEl0ZW0gPSB7DQogICAgICAgICAgICB0eXBlOiAnanJzcWp4Q2FyZCcsDQogICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgIGl0ZW1MaXN0OiBbDQogICAgICAgICAgICAgICAgdGhpcy5saXN0W2kgKyAxXSwNCiAgICAgICAgICAgICAgICB0aGlzLmxpc3RbaSArIDJdLA0KICAgICAgICAgICAgICAgIHRoaXMubGlzdFtpICsgM10NCiAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH07DQogICAgICAgICAgc2tpcEluZGV4cy5wdXNoKGkgKyAxKTsNCiAgICAgICAgICBza2lwSW5kZXhzLnB1c2goaSArIDIpOw0KICAgICAgICAgIHNraXBJbmRleHMucHVzaChpICsgMyk7DQogICAgICAgICAgcmVzdWx0LnB1c2gobmV4dEl0ZW0pOw0KICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PSAndmlkZW9Db2xsZWN0aW9uV2l0aEJyaWVmJykgew0KICAgICAgICAgIGZvciAobGV0IGkgb2YgaXRlbS5kYXRhLml0ZW1MaXN0KSB7DQogICAgICAgICAgICByZXN1bHQucHVzaCh7DQogICAgICAgICAgICAgIHR5cGU6ICd2aWRlb1NtYWxsQ2FyZCcsDQogICAgICAgICAgICAgIGRhdGE6IGkuZGF0YQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQogICAgc2hhcmVVcmwoY29udGVudCkgew0KICAgICAgdGhpcy4kY29weVRleHQoY29udGVudC5kYXRhLnBsYXlVcmwpLnRoZW4oZSA9PiB7DQogICAgICAgIFRvYXN0LnN1Y2Nlc3MoJ+W3suWkjeWIticpOw0KICAgICAgfSwgZSA9PiB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+WkjeWItuW8guW4uCcpOw0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZUhvcml6b250YWxTY3JvbGxDYXJkKGRldGFpbCkgew0KICAgICAgY29uc3QgdXJsID0gdGhpcy5nZXRRdWVyeVZhcmlhYmxlKGRldGFpbC5kYXRhLmFjdGlvblVybCwgJ3VybCcpOw0KICAgICAgLy8gd2luZG93Lm9wZW4odW5lc2NhcGUodXJsKSwgJ19ibGFuaycpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pZnJhbWU/dXJsPScgKyB1cmwpOw0KICAgICAgY29uc29sZS5sb2codXJsKQ0KICAgIH0sDQogICAgZ2V0UXVlcnlWYXJpYWJsZSh1cmwsIHZhcmlhYmxlKSB7DQogICAgICAvLyB2YXIgcXVlcnkgPSB1cmwuc2VhcmNoLnN1YnN0cmluZygxKTsNCiAgICAgIHZhciB2YXJzID0gdXJsLnNwbGl0KCImIik7DQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KCI9Iik7DQogICAgICAgIGlmIChwYWlyWzBdID09IHZhcmlhYmxlKSB7IHJldHVybiBwYWlyWzFdOyB9DQogICAgICB9DQogICAgICByZXR1cm4gKGZhbHNlKTsNCiAgICB9DQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBzZWNvbmRUb0RhdGUoc2Vjb25kKSB7DQogICAgICBmdW5jdGlvbiBwcmVmaXhJbnRlZ2VyKG51bSkgew0KICAgICAgICByZXR1cm4gKCcwMCcgKyBudW0pLnN1YnN0cigtMik7DQogICAgICB9DQoNCiAgICAgIGZ1bmN0aW9uIGZvcm1hdChoLCBtLCBzKSB7DQogICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdOw0KICAgICAgICBpZiAoaCkgew0KICAgICAgICAgIHJlc3VsdC5wdXNoKHByZWZpeEludGVnZXIoaCkpOw0KICAgICAgICB9DQogICAgICAgIGlmIChoIHx8IG0pIHsNCiAgICAgICAgICByZXN1bHQucHVzaChwcmVmaXhJbnRlZ2VyKG0pKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoaCB8fCBtIHx8IHMpIHsNCiAgICAgICAgICByZXN1bHQucHVzaChwcmVmaXhJbnRlZ2VyKHMpKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJzonKTsNCiAgICAgIH0NCg0KICAgICAgdmFyIGggPSBNYXRoLmZsb29yKHNlY29uZCAvIDM2MDApOw0KICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKHNlY29uZCAvIDYwICUgNjApOw0KICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKHNlY29uZCAlIDYwKTsNCg0KICAgICAgcmV0dXJuIGZvcm1hdChoLCBtLCBzKTsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Moment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Moment.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div class=\"moment\">\r\n  <template v-for=\"(item, index) in formatList(list)\">\r\n    <div :key=\"index\">\r\n      <div class=\"square-card-collection\" v-if=\"item.type == 'squareCardCollection'\">\r\n        <van-cell :title=\"item.data.header.title\" is-link size=\"large\" />\r\n        <div class=\"\" v-if=\"item.data.dataType == 'ItemCollection'\">\r\n          <moment :list=\"item.data.itemList\" />\r\n        </div>\r\n        <div class=\"item-list\" v-else>\r\n          <div class=\"item-list-item\" v-for=\"(itemItem, itemIndex) in item.data.itemList\" :key=\"itemIndex\">\r\n            <div class=\"video\" v-if=\"itemItem.data.content.type == 'video'\" @click=\"handleDetail(itemItem.data.content)\">\r\n              <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"itemItem.data.content.data.cover.feed\" />\r\n              <span class=\"duration\">{{itemItem.data.content.data.duration | secondToDate}}</span>\r\n\r\n              <div class=\"item-desc\">\r\n                <van-image class=\"icon\" round lazy-load :src=\"itemItem.data.content.data.author.icon\" />\r\n                <div class=\"item-title-author\">\r\n                  <span class=\"item-title\">{{itemItem.data.content.data.title}}</span>\r\n                  <span class=\"item-author-name\">{{itemItem.data.content.data.author.name + ' / #' + itemItem.data.content.data.category}}</span>\r\n                </div>\r\n                <van-icon name=\"share\" @click.stop=\"shareUrl(itemItem.data.content)\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"\" v-else>\r\n              不是视频\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"text-card\" v-else-if=\"item.type == 'textCard'\">\r\n        <van-cell :title=\"item.data.text\" is-link size=\"large\" />\r\n      </div>\r\n      <div class=\"follow-card\" v-else-if=\"item.type == 'followCard'\">\r\n        <div class=\"video\" v-if=\"item.data.content.type == 'video'\" @click=\"handleDetail(item.data.content)\">\r\n          <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"item.data.content.data.cover.feed\" />\r\n          <span class=\"duration\">{{item.data.content.data.duration | secondToDate}}</span>\r\n\r\n          <div class=\"item-desc\">\r\n            <van-image class=\"icon\" round lazy-load :src=\"item.data.content.data.author.icon\" v-if=\"item.data.content.data.author\" />\r\n            <div class=\"item-title-author\">\r\n              <span class=\"item-title\">{{item.data.content.data.title}}</span>\r\n              <span class=\"item-author-name\">{{item.data.content.data.author ? item.data.content.data.author.name : '' + ' / #' + item.data.content.data.category}}</span>\r\n            </div>\r\n            <van-icon name=\"share\" @click.stop=\"shareUrl(item.data.content)\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"video-small-card\" v-else-if=\"item.type == 'videoSmallCard'\">\r\n        <div class=\"video\" @click=\"handleDetail(item)\">\r\n          <div class=\"video-small\">\r\n            <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"item.data.cover.feed\" />\r\n            <span class=\"duration\">{{item.data.duration | secondToDate}}</span>\r\n          </div>\r\n\r\n          <div class=\"item-desc\">\r\n            <span class=\"item-title van-multi-ellipsis--l3\">{{item.data.title}}</span>\r\n            <div class=\"item-tag-share\">\r\n              <span class=\"item-tag\">#{{item.data.category}}</span>\r\n              <van-icon name=\"share\" @click.stop=\"shareUrl(item)\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"banner2\" v-else-if=\"item.type == 'banner2' || item.type == 'banner'\">\r\n        <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"item.data.image\" />\r\n      </div>\r\n      <div class=\"picture-follow-card\" v-else-if=\"item.type == 'pictureFollowCard'\">\r\n        <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"item.data.content.data.url\" @click=\"preview(item.data.content.data.urls)\" />\r\n        <div class=\"author-like\">\r\n          <div class=\"author van-ellipsis\">\r\n            <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"item.data.content.data.owner.avatar\" />\r\n            <span class=\"name\">{{item.data.content.data.owner.nickname}}</span>\r\n          </div>\r\n          <div class=\"like\">\r\n            <span>{{item.data.content.data.consumption.collectionCount}}</span>\r\n            <van-icon name=\"like-o\" />\r\n          </div>\r\n        </div>\r\n        <span class=\"multipart\" v-if=\"item.data.content.data.urls.length > 1\">\r\n          <van-icon name=\"orders-o\" />\r\n        </span>\r\n      </div>\r\n      <div class=\"auto-play-follow-card\" v-else-if=\"item.type == 'autoPlayFollowCard'\">\r\n        <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"item.data.content.data.cover.feed\" @click=\"handleDetail(item.data.content)\" />\r\n        <van-icon name=\"play-circle-o\" class=\"play\" />\r\n        <div class=\"author-like\">\r\n          <div class=\"author van-ellipsis\">\r\n            <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"item.data.content.data.owner.avatar\" />\r\n            <span class=\"name\">{{item.data.content.data.owner.nickname}}</span>\r\n          </div>\r\n          <div class=\"like\">\r\n            <span>{{item.data.content.data.consumption.collectionCount}}</span>\r\n            <van-icon name=\"like-o\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"jrsqjx-card\" v-else-if=\"item.type == 'jrsqjxCard'\">\r\n        <div :class=\"'jrsqjx-item' + itemIndex\" v-for=\"(itemItem, itemIndex) in item.data.itemList\" :key=\"itemIndex\">\r\n          <div class=\"picture-follow-card-inner\" v-if=\"itemItem.type == 'pictureFollowCard'\">\r\n            <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"itemItem.data.content.data.url\" @click=\"preview(itemItem.data.content.data.urls)\" />\r\n            <div class=\"author\">\r\n              <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"itemItem.data.content.data.owner.avatar\" />\r\n              <span class=\"name\">{{itemItem.data.content.data.owner.nickname}}</span>\r\n            </div>\r\n            <span class=\"multipart\" v-if=\"itemItem.data.content.data.urls.length > 1\">\r\n              <van-icon name=\"orders-o\" />\r\n            </span>\r\n          </div>\r\n          <div class=\"auto-play-follow-card-inner\" v-else-if=\"itemItem.type == 'autoPlayFollowCard'\">\r\n            <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"itemItem.data.content.data.cover.feed\" @click=\"handleDetail(itemItem.data.content)\" />\r\n            <van-icon name=\"play-circle-o\" class=\"play\" />\r\n            <div class=\"author\">\r\n              <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"itemItem.data.content.data.owner.avatar\" />\r\n              <span class=\"name\">{{itemItem.data.content.data.owner.nickname}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"ugc-selected-card-collection\" v-else-if=\"item.type == 'ugcSelectedCardCollection'\">\r\n        <van-cell :title=\"item.data.header.title\" is-link size=\"large\" />\r\n        <div class=\"jrsqjx-card\">\r\n          <div :class=\"'jrsqjx-item' + itemIndex\" v-for=\"(itemItem, itemIndex) in item.data.itemList\" :key=\"itemIndex\">\r\n            <div class=\"picture-follow-card-inner\" v-if=\"itemItem.type == 'pictureFollowCard' || itemItem.type == 'ugcSelectedCard'\">\r\n              <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"itemItem.data.url\" @click=\"preview(itemItem.data.urls)\" />\r\n              <div class=\"author\">\r\n                <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"itemItem.data.userCover\" />\r\n                <span class=\"name\">{{itemItem.data.nickname}}</span>\r\n              </div>\r\n              <span class=\"multipart\" v-if=\"itemItem.data.urls && itemItem.data.urls.length > 1\">\r\n                <van-icon name=\"orders-o\" />\r\n              </span>\r\n            </div>\r\n            <div class=\"auto-play-follow-card-inner\" v-else-if=\"itemItem.type == 'autoPlayFollowCard'\">\r\n              <van-image class=\"image\" fit=\"cover\" lazy-load :src=\"itemItem.data.cover.feed\" @click=\"handleDetail(itemItem)\" />\r\n              <van-icon name=\"play-circle-o\" class=\"play\" />\r\n              <div class=\"author\">\r\n                <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"itemItem.data.owner.avatar\" />\r\n                <span class=\"name\">{{itemItem.data.owner.nickname}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"horizontal-scroll-card\" v-else-if=\"item.type == 'horizontalScrollCard'\">\r\n        <van-swipe :loop=\"false\">\r\n          <van-swipe-item v-for=\"(itemItem, itemIndex) in item.data.itemList\" :key=\"itemIndex\">\r\n            <van-image class=\"item-banner\" fit=\"cover\" lazy-load :src=\"itemItem.data.image\" @click=\"handleHorizontalScrollCard(itemItem)\" />\r\n          </van-swipe-item>\r\n        </van-swipe>\r\n      </div>\r\n      <div class=\"brief-card\" v-else-if=\"item.type == 'briefCard'\">\r\n        <van-image class=\"item-banner\" fit=\"cover\" lazy-load :src=\"item.data.icon\" />\r\n        <span class=\"brief-title\">{{item.data.title}}</span>\r\n      </div>\r\n      <div class=\"video-collection-with-brief\" v-else-if=\"item.type == 'videoCollectionWithBrief'\">\r\n      </div>\r\n      <div class=\"dynamic-info-card\" v-else-if=\"item.type == 'DynamicInfoCard'\" @click=\"messagePreview(item.data)\">\r\n        <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"item.data.user.avatar\" />\r\n        <div class=\"right\">\r\n          <span class=\"name\">{{item.data.user.nickname}}</span>\r\n          <div class=\"message van-multi-ellipsis--l3\">\r\n            <span class=\"video-title\">《{{item.data.reply.videoTitle}}》</span>\r\n            {{item.data.reply.message}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"dynamic-info-card\" v-else-if=\"item.type == 'reply'\">\r\n        <van-image class=\"avatar\" fit=\"cover\" lazy-load round :src=\"item.data.user.avatar\" />\r\n        <div class=\"right\">\r\n          <span class=\"name\">{{item.data.user.nickname}}</span>\r\n          <div class=\"message\">\r\n            {{item.data.message}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"\" v-else>\r\n        <!-- {{item.type}} -->\r\n      </div>\r\n    </div>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getUrl } from '../utils/common.js';\r\nimport { ImagePreview } from 'vant';\r\nimport { Dialog } from 'vant';\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  name: 'moment',\r\n  props: [\r\n    'list'\r\n  ],\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      detail: null,\r\n      relatedList: [],\r\n      replies: []\r\n    }\r\n  },\r\n  methods: {\r\n    handleDetail(detail) {\r\n      localStorage.setItem('detail', JSON.stringify(detail));\r\n      this.$router.push('/video/' + detail.data.id);\r\n    },\r\n    preview(urls) {\r\n      ImagePreview({\r\n        images: urls\r\n      });\r\n    },\r\n    messagePreview(detail) {\r\n      Dialog.alert({\r\n        messageAlign: 'left',\r\n        title: detail.reply.videoTitle,\r\n        message: detail.reply.message\r\n      }).then(() => {\r\n        // on close\r\n      });\r\n    },\r\n    formatList(list) {\r\n      const skipIndexs = [];\r\n      // 暂时有问题\r\n      const result = [];\r\n      for (let i = 0; i < list.length; i++) {\r\n        if (skipIndexs.indexOf(i) >= 0) {\r\n          continue;\r\n        }\r\n        const item = list[i];\r\n        result.push(item);\r\n\r\n        if (item.data.text == '今日社区精选') {\r\n          // 如果是社区精选，则获取接下来的3条数据\r\n          const nextItem = {\r\n            type: 'jrsqjxCard',\r\n            data: {\r\n              itemList: [\r\n                this.list[i + 1],\r\n                this.list[i + 2],\r\n                this.list[i + 3]\r\n              ]\r\n            }\r\n          };\r\n          skipIndexs.push(i + 1);\r\n          skipIndexs.push(i + 2);\r\n          skipIndexs.push(i + 3);\r\n          result.push(nextItem);\r\n        } else if (item.type == 'videoCollectionWithBrief') {\r\n          for (let i of item.data.itemList) {\r\n            result.push({\r\n              type: 'videoSmallCard',\r\n              data: i.data\r\n            });\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n    shareUrl(content) {\r\n      this.$copyText(content.data.playUrl).then(e => {\r\n        Toast.success('已复制');\r\n      }, e => {\r\n        Toast.fail('复制异常');\r\n      })\r\n    },\r\n    handleHorizontalScrollCard(detail) {\r\n      const url = this.getQueryVariable(detail.data.actionUrl, 'url');\r\n      // window.open(unescape(url), '_blank');\r\n      this.$router.push('/iframe?url=' + url);\r\n      console.log(url)\r\n    },\r\n    getQueryVariable(url, variable) {\r\n      // var query = url.search.substring(1);\r\n      var vars = url.split(\"&\");\r\n      for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split(\"=\");\r\n        if (pair[0] == variable) { return pair[1]; }\r\n      }\r\n      return (false);\r\n    }\r\n  },\r\n  filters: {\r\n    secondToDate(second) {\r\n      function prefixInteger(num) {\r\n        return ('00' + num).substr(-2);\r\n      }\r\n\r\n      function format(h, m, s) {\r\n        const result = [];\r\n        if (h) {\r\n          result.push(prefixInteger(h));\r\n        }\r\n        if (h || m) {\r\n          result.push(prefixInteger(m));\r\n        }\r\n        if (h || m || s) {\r\n          result.push(prefixInteger(s));\r\n        }\r\n        return result.join(':');\r\n      }\r\n\r\n      var h = Math.floor(second / 3600);\r\n      var m = Math.floor(second / 60 % 60);\r\n      var s = Math.floor(second % 60);\r\n\r\n      return format(h, m, s);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.moment {\r\n\r\n    .square-card-collection {\r\n\r\n        .item-list {\r\n            padding: 0 16px;\r\n\r\n            .video {\r\n                position: relative;\r\n\r\n                .image {\r\n                    width: 100%;\r\n                    height: 198.83px;\r\n\r\n                    /deep/ img {\r\n                        border-radius: 4px;\r\n                    }\r\n                }\r\n                .duration {\r\n                    position: absolute;\r\n                    right: 6px;\r\n                    top: 176.83px;\r\n                    background: rgba(0, 0, 0, 1);\r\n                    color: #FFF;\r\n                    z-index: 1;\r\n                    font-size: 12px;\r\n                    line-height: 12px;\r\n                    padding: 2px;\r\n                    border-radius: 2px;\r\n                }\r\n                .item-desc {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    padding: 6px 0 18px;\r\n\r\n                    .icon {\r\n                        width: 32px;\r\n                        height: 32px;\r\n                        margin-right: 6px;\r\n                    }\r\n                    .item-title-author {\r\n                        flex: 1;\r\n                        display: flex;\r\n                        flex-direction: column;\r\n\r\n                        .item-title {\r\n                            font-size: 12px;\r\n                        }\r\n                        .item-author-name {\r\n                            font-size: 10px;\r\n                            color: rgba(0, 0, 0, 0.5);\r\n                        }\r\n                    }\r\n                }\r\n                .item-desc:last-child {\r\n                    padding-bottom: 12px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .follow-card {\r\n        padding: 0 16px;\r\n\r\n        .video {\r\n            position: relative;\r\n\r\n            .image {\r\n                width: 100%;\r\n                height: 198.83px;\r\n\r\n                /deep/ img {\r\n                    border-radius: 4px;\r\n                }\r\n            }\r\n            .duration {\r\n                position: absolute;\r\n                right: 6px;\r\n                top: 176.83px;\r\n                background: rgba(0, 0, 0, 1);\r\n                color: #FFF;\r\n                z-index: 1;\r\n                font-size: 12px;\r\n                line-height: 12px;\r\n                padding: 2px;\r\n                border-radius: 2px;\r\n            }\r\n            .item-desc {\r\n                display: flex;\r\n                align-items: center;\r\n                padding: 6px 0 18px;\r\n\r\n                .icon {\r\n                    width: 32px;\r\n                    height: 32px;\r\n                    margin-right: 6px;\r\n                }\r\n                .item-title-author {\r\n                    flex: 1;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n\r\n                    .item-title {\r\n                        font-size: 12px;\r\n                    }\r\n                    .item-author-name {\r\n                        font-size: 10px;\r\n                        color: rgba(0, 0, 0, 0.5);\r\n                    }\r\n                }\r\n            }\r\n            .item-desc:last-child {\r\n                padding-bottom: 12px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .video-small-card {\r\n        padding: 0 16px 12px;\r\n\r\n        .video {\r\n            display: flex;\r\n            position: relative;\r\n\r\n            .video-small {\r\n                width: 137px;\r\n                height: 80px;\r\n            }\r\n            .image {\r\n                width: 100%;\r\n\r\n                /deep/ img {\r\n                    border-radius: 4px;\r\n                }\r\n            }\r\n            .duration {\r\n                position: absolute;\r\n                right: 212px;\r\n                top: 60px;\r\n                background: rgba(0, 0, 0, 1);\r\n                color: #FFF;\r\n                z-index: 1;\r\n                font-size: 12px;\r\n                line-height: 12px;\r\n                padding: 2px;\r\n                border-radius: 2px;\r\n            }\r\n            .item-desc {\r\n                flex: 1;\r\n                display: flex;\r\n                flex-direction: column;\r\n                justify-content: space-between;\r\n                padding: 6px 0 6px 6px;\r\n\r\n                .item-title {\r\n                    font-size: 12px;\r\n                }\r\n                .item-tag-share {\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n\r\n                    .item-tag {\r\n                        font-size: 10px;\r\n                        color: rgba(0, 0, 0, 0.5);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .banner2 {\r\n        padding: 12px 16px;\r\n\r\n        .image {\r\n            width: 100%;\r\n\r\n            /deep/ img {\r\n                border-radius: 4px;\r\n            }\r\n        }\r\n    }\r\n    .auto-play-follow-card,\r\n    .picture-follow-card {\r\n        padding: 12px 16px 0;\r\n        // width: 170px;\r\n        // padding-right: 16px;\r\n        // padding-bottom: 6px;\r\n        position: relative;\r\n        color: #FFF;\r\n\r\n        .image {\r\n            width: 100%;\r\n\r\n            /deep/ img {\r\n                border-radius: 4px;\r\n            }\r\n        }\r\n        .author-like {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            color: #000;\r\n\r\n            .author {\r\n                flex: 1;\r\n                display: flex;\r\n                align-items: center;\r\n\r\n                .avatar {\r\n                    width: 24px;\r\n                    height: 24px;\r\n                }\r\n                .name {\r\n                    padding-left: 3px;\r\n                    font-size: 10px;\r\n                    overflow: hidden;\r\n                    white-space: nowrap;\r\n                    text-overflow: ellipsis;\r\n                }\r\n            }\r\n            .like {\r\n                display: flex;\r\n                align-items: center;\r\n\r\n                span {\r\n                    font-size: 10px;\r\n                    color: #666;\r\n                    padding-right: 3px;\r\n                }\r\n            }\r\n        }\r\n        .multipart {\r\n            position: absolute;\r\n            top: 18px;\r\n            right: 22px;\r\n            color: #FFF;\r\n        }\r\n        .play {\r\n            position: absolute;\r\n            top: 18px;\r\n            right: 22px;\r\n        }\r\n    }\r\n    .jrsqjx-card {\r\n        padding: 0 16px;\r\n        height: 170px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        flex-wrap: wrap;\r\n        justify-content: space-between;\r\n\r\n        .jrsqjx-item0 {\r\n            width: 170px;\r\n            height: 170px;\r\n\r\n            /deep/ img {\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n        }\r\n        .jrsqjx-item1,\r\n        .jrsqjx-item2 {\r\n            width: 170px;\r\n            height: 83.5px;\r\n\r\n            /deep/ img {\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n\r\n        }\r\n\r\n        .auto-play-follow-card-inner,\r\n        .picture-follow-card-inner {\r\n            position: relative;\r\n            color: #FFF;\r\n            width: 100%;\r\n            height: 100%;\r\n\r\n            .image {\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n\r\n            .author {\r\n                position: absolute;\r\n                bottom: 6px;\r\n                right: 6px;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: flex-end;\r\n\r\n                .avatar {\r\n                    width: 16px;\r\n                    height: 16px;\r\n                }\r\n                .name {\r\n                    padding-left: 3px;\r\n                    font-size: 10px;\r\n                }\r\n            }\r\n            .multipart {\r\n                position: absolute;\r\n                top: 6px;\r\n                right: 6px;\r\n                color: #FFF;\r\n            }\r\n            .play {\r\n                position: absolute;\r\n                top: 6px;\r\n                right: 6px;\r\n            }\r\n        }\r\n    }\r\n    .horizontal-scroll-card {\r\n        padding: 12px 16px;\r\n\r\n        /deep/ img {\r\n            border-radius: 4px;\r\n        }\r\n    }\r\n    .brief-card {\r\n        position: relative;\r\n        width: 112px;\r\n        height: 112px;\r\n        float: left;\r\n        margin-left: 10px;\r\n\r\n        /deep/ img {\r\n            width: 112px;\r\n            height: 112px;\r\n            border-radius: 4px;\r\n            filter: blur(1px);\r\n        }\r\n        .brief-title {\r\n            color: #FFF;\r\n            font-size: 12px;\r\n            line-height: 12px;\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0;\r\n            text-align: center;\r\n            width: 100px;\r\n            height: 100px;\r\n            padding: 6px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n    }\r\n    .brief-card:first-child {\r\n        margin-left: 16px;\r\n    }\r\n    .dynamic-info-card {\r\n        padding: 12px 16px;\r\n        display: flex;\r\n\r\n        .avatar {\r\n            width: 36px;\r\n            height: 36px;\r\n            margin-right: 6px;\r\n        }\r\n        .right {\r\n            font-size: 10px;\r\n            flex: 1;\r\n            font-size: #333;\r\n\r\n            .name {\r\n                color: #666;\r\n                font-size: 12px;\r\n            }\r\n            .video-title {\r\n                color: #000;\r\n                font-weight: 700;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]}]}